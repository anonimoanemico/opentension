function Grid(a,b){var c=this,d=gj.grid.methods;return c.xhr=null,c.reload=function(a){return d.reload(this,a)},c.clear=function(a){return d.clear(this,a)},c.count=function(){return $(this).find('tbody tr[data-role="row"]').length},c.render=function(b){return d.render(a,b)},c.destroy=function(a,b){return d.destroy(this,a,b)},c.setSelected=function(a){return d.setSelected(this,a)},c.getSelected=function(){return d.getSelected(this)},c.getSelections=function(){return d.getSelections(this)},c.selectAll=function(){return d.selectAll(this)},c.unSelectAll=function(){return d.unSelectAll(this)},c.getById=function(a){return d.getById(this,a)},c.get=function(a){return d.getByPosition(this,a)},c.getAll=function(){return d.getAll(this)},c.showColumn=function(a){return d.showColumn(this,a)},c.hideColumn=function(a){return d.hideColumn(this,a)},c.addRow=function(a){return d.addRow(this,a)},c.updateRow=function(a,b){return d.updateRow(this,a,b)},c.setCellContent=function(a,b,c){d.setCellContent(this,a,b,c)},c.removeRow=function(a){return d.removeRow(this,a)},$.extend(a,c),!0!==a.data("initialized")&&d.init.apply(a,b),a}"undefined"==typeof gj&&(gj={}),"undefined"==typeof gj.grid&&(gj.grid={plugins:{}}),gj.grid.config={base:{dataSource:void 0,columns:[],autoGenerateColumns:!1,defaultColumnSettings:{hidden:!1,width:void 0,sortable:!1,type:void 0,title:void 0,field:void 0,align:"left",cssClass:void 0,headerCssClass:void 0,tooltip:void 0,icon:void 0,events:void 0,format:void 0,decimalDigits:void 0,tmpl:void 0,stopPropagation:!1},mapping:{dataField:"records",totalRecordsField:"total"},params:{},defaultParams:{sortBy:"sortBy",direction:"direction",page:"page",limit:"limit"},uiLibrary:"base",style:{wrapper:"gj-grid-wrapper",table:"gj-grid-table gj-grid-base-table",loadingCover:"gj-grid-loading-cover",loadingText:"gj-grid-loading-text",header:{cell:void 0,sortable:"gj-cursor-pointer",sortAscIcon:"",sortDescIcon:""},content:{rowHover:void 0,rowSelected:"gj-grid-base-active"}},selectionType:"single",selectionMethod:"basic",autoLoad:!0,notFoundText:"No records found.",width:void 0,minWidth:void 0,fontSize:void 0,primaryKey:void 0},jqueryui:{style:{table:"gj-grid-table ui-widget-content gj-grid-ui-table",header:{cell:"ui-widget-header ui-state-default gj-grid-ui-thead-th",sortable:"gj-cursor-pointer",sortAscIcon:"gj-grid-ui-thead-th-sort-icon ui-icon ui-icon-arrowthick-1-s",sortDescIcon:"gj-grid-ui-thead-th-sort-icon ui-icon ui-icon-arrowthick-1-n"},content:{rowHover:"ui-state-hover",rowSelected:"ui-state-active"}}},bootstrap:{style:{wrapper:"gj-grid-wrapper",table:"gj-grid-table table table-bordered table-hover",header:{cell:"gj-grid-bootstrap-thead-cell",sortable:"gj-cursor-pointer",sortAscIcon:"glyphicon glyphicon-sort-by-alphabet",sortDescIcon:"glyphicon glyphicon-sort-by-alphabet-alt"},content:{rowHover:"",rowSelected:"active"}}}},gj.grid.events={beforeEmptyRowInsert:function(a,b){a.trigger("beforeEmptyRowInsert",[b])},dataBinding:function(a,b){a.trigger("dataBinding",[b])},dataBound:function(a,b,c){a.trigger("dataBound",[b,c])},rowDataBound:function(a,b,c,d){a.trigger("rowDataBound",[b,c,d])},cellDataBound:function(a,b,c,d,e){a.trigger("cellDataBound",[b,c,d,e])},rowSelect:function(a,b,c,d){a.trigger("rowSelect",[b,c,d])},rowUnselect:function(a,b,c,d){a.trigger("rowUnselect",[b,c,d])},rowRemoving:function(a,b,c,d){a.trigger("rowRemoving",[b,c,d])},destroying:function(a){a.trigger("destroying")},columnHide:function(a,b){a.trigger("columnHide",[b])},columnShow:function(a,b){a.trigger("columnShow",[b])},initialized:function(a){a.trigger("initialized")}},gj.grid.methods={init:function(a){var b,c,d,e;b=$.extend(!0,{},gj.grid.methods.getHTMLConfiguration(this)||{}),$.extend(!0,b,a||{}),gj.grid.methods.configure(this,b);for(c in gj.grid.plugins)gj.grid.plugins.hasOwnProperty(c)&&gj.grid.plugins[c].configure(this,b);e=this.data();for(d in e)gj.grid.events.hasOwnProperty(d)&&(this.on(d,e[d]),delete e[d]);return gj.grid.methods.initialize(this),this.attr("data-initialized",!0),e.autoLoad&&this.reload(),this},configure:function(a,b){var c=$.extend(!0,{},gj.grid.config.base),d=b.uiLibrary||c.uiLibrary;gj.grid.config[d]&&$.extend(!0,c,gj.grid.config[d]);for(plugin in gj.grid.plugins)gj.grid.plugins.hasOwnProperty(plugin)&&(gj.grid.plugins[plugin].config.base&&$.extend(!0,c,gj.grid.plugins[plugin].config.base),gj.grid.plugins[plugin].config[d]&&$.extend(!0,c,gj.grid.plugins[plugin].config[d]));$.extend(!0,c,b),gj.grid.methods.setDefaultColumnConfig(c.columns,c.defaultColumnSettings),a.data(c)},setDefaultColumnConfig:function(a,b){var c,d;if(a&&a.length)for(d=0;d<a.length;d++)c=$.extend(!0,{},b),$.extend(!0,c,a[d]),a[d]=c},getHTMLConfiguration:function(a){var b=gj.grid.methods.getAttributes(a);return b&&b.source&&(b.dataSource=b.source,delete b.source),b.columns=[],a.find("thead > tr > th").each(function(){var a=$(this),c=a.text(),d=gj.grid.methods.getAttributes(a);d.title=c,d.field||(d.field=c),d.events&&(d.events=gj.grid.methods.eventsParser(d.events)),b.columns.push(d)}),b},getAttributes:function(a){var b=a.data(),c=a.attr("width");return c&&(b.width=c),b},eventsParser:function(events){var result={},list,i,key,func,position;for(list=events.split(","),i=0;i<list.length;i++)position=list[i].indexOf(":"),position>0&&(key=$.trim(list[i].substr(0,position)),func=$.trim(list[i].substr(position+1,list[i].length)),result[key]=eval("window."+func));return result},defaultSuccessHandler:function(a){return function(b){a.render(b)}},initialize:function(a){var b=a.data(),c=a.parent('div[data-role="wrapper"]');0===c.length?(c=$('<div data-role="wrapper" />').addClass(b.style.wrapper),a.wrap(c)):c.addClass(b.style.wrapper),b.width&&a.parent().css("width",b.width),b.minWidth&&a.css("min-width",b.minWidth),b.fontSize&&a.css("font-size",b.fontSize),a.addClass(b.style.table),"checkbox"===b.selectionMethod&&(b.columns=[{title:"",field:b.primaryKey,width:"jqueryui"===b.uiLibrary?24:30,align:"center",type:"checkbox"}].concat(b.columns)),a.append($("<tbody/>")),gj.grid.methods.renderHeader(a),gj.grid.methods.appendEmptyRow(a,"&nbsp;"),gj.grid.events.initialized(a)},renderHeader:function(a){var b,c,d,e,f,g,h,i;for(b=a.data(),c=b.columns,d=b.style.header,sortBy=b.params[b.defaultParams.sortBy],direction=b.params[b.defaultParams.direction],e=a.children("thead"),0===e.length&&(e=$("<thead />"),a.prepend(e)),f=$("<tr/>"),h=0;h<c.length;h+=1)g=$("<th/>"),c[h].width&&g.attr("width",c[h].width),g.addClass(d.cell),c[h].headerCssClass&&g.addClass(c[h].headerCssClass),g.css("text-align",c[h].align||"left"),c[h].sortable&&(g.addClass(d.sortable),g.on("click",gj.grid.methods.createSortHandler(a,g))),"checkbox"===b.selectionMethod&&"multiple"===b.selectionType&&"checkbox"===c[h].type?(i=g.find('input[id="checkAllBoxes"]'),0===i.length&&(i=$('<input type="checkbox" id="checkAllBoxes" />'),g.append(i)),i.hide().off("click").on("click",function(){this.checked?a.selectAll():a.unSelectAll()})):g.append($('<div style="float: left"/>').text("undefined"==typeof c[h].title?c[h].field:c[h].title)),c[h].hidden&&g.hide(),g.data("cell",c[h]),f.append(g);e.empty().append(f)},createSortHandler:function(a,b){return function(){var c,d,e,f,g={};a.count()>0&&(d=a.data(),e=b.data("cell"),e.direction="asc"===e.direction?"desc":"asc",$.isArray(d.dataSource)?"asc"===e.direction?d.dataSource.sort(function(a,b){return a[e.field]<b[e.field]?-1:a[e.field]>b[e.field]?1:0}):d.dataSource.sort(function(a,b){return a[e.field]>b[e.field]?-1:a[e.field]<b[e.field]?1:0}):(g[d.defaultParams.sortBy]=e.field,g[d.defaultParams.direction]=e.direction),f=d.style.header,b.siblings().find('span[data-role="sorticon"]').remove(),c=b.children('span[data-role="sorticon"]'),0===c.length&&(c=$('<span data-role="sorticon" style="float: left; margin-left:5px;"/>'),b.append(c)),"asc"===e.direction?(c.empty().removeClass(f.sortDescIcon),f.sortAscIcon?c.addClass(f.sortAscIcon):c.text("▲")):(c.empty().removeClass(f.sortAscIcon),f.sortDescIcon?c.addClass(f.sortDescIcon):c.text("▼")),a.reload(g))}},startLoading:function(a){var b,c,d,e,f,g,h;gj.grid.methods.stopLoading(a),h=a.data(),0!==a.outerHeight()&&(b=a.children("tbody"),e=b.outerWidth(!1),f=b.outerHeight(!1),g=b.prevAll().outerHeight(!0)+a.prevAll().outerHeight(!0)+parseInt(a.parent().css("padding-top").replace("px",""),10),c=$('<div data-role="loading-cover" />').addClass(h.style.loadingCover).css({width:e,height:f,top:g}),d=$('<div data-role="loading-text">Loading...</div>').addClass(h.style.loadingText),d.insertAfter(a),c.insertAfter(a),d.css({top:g+f/2-d.outerHeight(!1)/2,left:e/2-d.outerWidth(!1)/2}))},stopLoading:function(a){a.parent().find('div[data-role="loading-cover"]').remove(),a.parent().find('div[data-role="loading-text"]').remove()},createAddRowHoverHandler:function(a,b){return function(){a.addClass(b)}},createRemoveRowHoverHandler:function(a,b){return function(){a.removeClass(b)}},appendEmptyRow:function(a,b){var c,d,e,f;c=a.data(),d=$('<tr data-role="empty"/>'),e=$("<td/>").css({width:"100%","text-align":"center"}),e.attr("colspan",gj.grid.methods.countVisibleColumns(a)),f=$("<div />").html(b||c.notFoundText),e.append(f),d.append(e),gj.grid.events.beforeEmptyRowInsert(a,d),a.append(d)},autoGenerateColumns:function(a,b){var c,d,e,f,g=a.data();if(g.columns=[],b.length>0){for(c=Object.getOwnPropertyNames(b[0]),f=0;f<c.length;f++)d=b[0][c[f]],e="text",d&&("number"==typeof d?e="number":d.indexOf("/Date(")>-1&&(e="date")),g.columns.push({field:c[f],type:e});gj.grid.methods.setDefaultColumnConfig(g.columns,g.defaultColumnSettings)}gj.grid.methods.renderHeader(a)},loadData:function(a){var b,c,d,e,f,g,h,i,j;for(b=a.data(),c=gj.grid.methods.getRecordsForRendering(a),gj.grid.events.dataBinding(a,c),e=c.length,gj.grid.methods.stopLoading(a),b.autoGenerateColumns&&gj.grid.methods.autoGenerateColumns(a,c),g=a.find("tbody"),"checkbox"===b.selectionMethod&&"multiple"===b.selectionType&&(j=a.find("input#checkAllBoxes"),j.prop("checked",!1),0===e?j.hide():j.show()),g.find('tr[data-role="empty"]').remove(),0===e&&(g.empty(),gj.grid.methods.appendEmptyRow(a)),h=g.children("tr"),f=h.length,d=0;f>d;d++){if(!(e>d)){g.find("tr:gt("+(d-1)+")").remove();break}i=h.eq(d),gj.grid.methods.renderRow(a,i,c[d],d)}for(d=f;e>d;d++)gj.grid.methods.renderRow(a,null,c[d],d);gj.grid.events.dataBound(a,c,b.totalRecords)},getId:function(a,b,c){return b&&a[b]?a[b]:c},renderRow:function(a,b,c,d){var e,f,g,h,i;for(h=a.data(),b&&0!==b.length?(i="update",b.removeClass(h.style.content.rowSelected).off("click")):(i="create",b=$(a.find("tbody")[0].insertRow(d)),b.attr("data-role","row"),b.on("mouseenter",gj.grid.methods.createAddRowHoverHandler(b,h.style.content.rowHover)),b.on("mouseleave",gj.grid.methods.createRemoveRowHoverHandler(b,h.style.content.rowHover))),e=gj.grid.methods.getId(c,h.primaryKey,d+1),b.attr("data-position",d+1),b.on("click",gj.grid.methods.createRowClickHandler(a,e)),g=0;g<h.columns.length;g++)"update"===i?(f=b.find("td:eq("+g+")"),gj.grid.methods.renderCell(a,f,h.columns[g],c,e)):(f=gj.grid.methods.renderCell(a,null,h.columns[g],c,e),b.append(f));gj.grid.events.rowDataBound(a,b,e,c)},renderCell:function(a,b,c,d,e,f){var g,h,i;if(b&&0!==b.length?(h=b.find('div[data-role="display"]'),f="update"):(b=$("<td/>").css("text-align",c.align||"left"),h=$('<div data-role="display" />'),c.cssClass&&b.addClass(c.cssClass),b.append(h),f="create"),"checkbox"===c.type?"create"===f?h.append($("<input />").attr("type","checkbox").val(e)):h.find('input[type="checkbox"]').val(e).prop("checked",!1):"icon"===c.type?"create"===f&&(h.append($("<span/>").addClass("bootstrap"===a.data().uiLibrary?"glyphicon":"ui-icon").addClass(c.icon).css({cursor:"pointer"})),c.stopPropagation=!0):c.tmpl?(g=c.tmpl,c.tmpl.replace(/\{(.+?)\}/g,function(a,b){g=g.replace(a,gj.grid.methods.formatText(d[b],c))}),h.html(g)):gj.grid.methods.setCellText(h,c,d[c.field]),c.tooltip&&"create"===f&&h.attr("title",c.tooltip),"update"===f&&(b.off(),h.off()),c.events)for(i in c.events)c.events.hasOwnProperty(i)&&b.on(i,{id:e,field:c.field,record:d},function(a){c.stopPropagation&&a.stopPropagation(),c.events[i].call(this,a)});return c.hidden&&b.hide(),gj.grid.events.cellDataBound(a,h,e,c,d),b},setCellText:function(a,b,c){var d=gj.grid.methods.formatText(c,b);b.tooltip||a.attr("title",d),a.text(d)},formatText:function(a,b){var c,d,e,f;if(a&&b.type)switch(b.type){case"date":a.indexOf("/Date(")>-1?c=new Date(parseInt(a.substr(6),10)):(f=a.match(/(\d+)/g),c=new Date(f[0],f[1]-1,f[2],f[3],f[4],f[5])),c.format&&b.format?a=c.format(b.format):(d=2===c.getDate().toString().length?c.getDate():"0"+c.getDate(),e=(c.getMonth()+1).toString(),e=2===e.length?e:"0"+e,a=e+"/"+d+"/"+c.getFullYear())}else a="undefined"==typeof a||null===a?"":a.toString();return b.decimalDigits&&a&&(a=parseFloat(a).toFixed(b.decimalDigits)),a},getRecordsForRendering:function(a){return a.data("records")},setRecordsData:function(a,b){var c=[],d=0,e=a.data();return $.isArray(b)?(c=b,d=b.length):e&&e.mapping&&$.isArray(b[e.mapping.dataField])&&(c=b[e.mapping.dataField],d=b[e.mapping.totalRecordsField],(!d||isNaN(d))&&(d=0)),a.data("records",c),a.data("totalRecords",d),c},createRowClickHandler:function(a,b){return function(){gj.grid.methods.setSelected(a,b,$(this))}},selectRow:function(a,b,c,d){c.addClass(b.style.content.rowSelected),gj.grid.events.rowSelect(a,c,d,a.getById(d)),"checkbox"===b.selectionMethod&&c.find('td:nth-child(1) input[type="checkbox"]').prop("checked",!0)},unselectRow:function(a,b,c,d){c.hasClass(b.style.content.rowSelected)&&(c.removeClass(b.style.content.rowSelected),gj.grid.events.rowUnselect(a,c,d,a.getById(d)),"checkbox"===b.selectionMethod&&c.find('td:nth-child(1) input[type="checkbox"]').prop("checked",!1))},setSelected:function(a,b,c){var d=a.data();return c&&c.length||(c=gj.grid.methods.getRowById(a,b)),c&&(c.hasClass(d.style.content.rowSelected)?gj.grid.methods.unselectRow(a,d,c,b):("single"===d.selectionType&&c.siblings().each(function(){var b=$(this),c=gj.grid.methods.getId(b,d.primaryKey,b.data("position"));gj.grid.methods.unselectRow(a,d,b,c)}),gj.grid.methods.selectRow(a,d,c,b))),a},selectAll:function(a){var b=a.data();return a.find("thead input#checkAllBoxes").prop("checked",!0),a.find("tbody tr").each(function(){var c=$(this);gj.grid.methods.selectRow(a,b,c,a.get(c.data("position")))}),a},unSelectAll:function(a){var b=a.data();return a.find("thead input#checkAllBoxes").prop("checked",!1),a.find("tbody tr").each(function(){var c=$(this);gj.grid.methods.unselectRow(a,b,c,a.get(c.data("position")))}),a},getSelected:function(a){var b,c,d,e=null;return b=a.find("tbody > tr."+a.data().style.content.rowSelected),b.length>0&&(d=$(b[0]).data("position"),c=a.get(d),e=gj.grid.methods.getId(c,a.data().primaryKey,d)),e},getSelectedRows:function(a){var b=a.data();return a.find("tbody > tr."+b.style.content.rowSelected)},getSelections:function(a){var b,c,d=[],e=gj.grid.methods.getSelectedRows(a);return 0<e.length&&e.each(function(){b=$(this).data("position"),c=a.get(b),d.push(gj.grid.methods.getId(c,a.data().primaryKey,b))}),d},getById:function(a,b){var c,d=null,e=a.data("primaryKey"),f=a.data("records");if(e){for(c=0;c<f.length;c++)if(f[c][e]===b){d=f[c];break}}else d=a.get(b);return d},getRowById:function(a,b){var c,d,e=a.data("records"),f=a.data("primaryKey");if(f){for(d=0;d<e.length;d++)if(e[d][f]===b){c=d+1;break}}else c=b;return a.find('tbody > tr[data-position="'+c+'"]')},getByPosition:function(a,b){return a.data("records")[b-1]},getColumnPosition:function(a,b){var c,d=-1;for(c=0;c<a.length;c++)if(a[c].field===b){d=c;break}return d},getColumnInfo:function(a,b){var c,d={},e=a.data();for(c=0;c<e.columns.length;c+=1)if(e.columns[c].field===b){d=e.columns[c];break}return d},getCell:function(a,b,c){var d,e;return d=gj.grid.methods.getColumnPosition(a,c),e=gj.grid.methods.getRowById(a,b),e.find("td:eq("+d+") div")},setCellContent:function(a,b,c,d){var e,f=gj.grid.methods.getCell(a,b,c);f.empty(),"object"==typeof d?f.append(d):(e=gj.grid.methods.getColumnInfo(a,c),gj.grid.methods.setCellText(f,e,d))},clone:function(a){var b=[];return $.each(a,function(){b.push(this.clone())}),b},getAll:function(a){return a.data("records")},countVisibleColumns:function(a){var b,c,d;for(b=a.data().columns,c=0,d=0;d<b.length;d++)b[d].hidden!==!0&&c++;return c},reload:function(a,b){var c,d;return c=a.data(),$.extend(c.params,b),gj.grid.methods.startLoading(a),$.isArray(c.dataSource)?(gj.grid.methods.setRecordsData(a,c.dataSource),gj.grid.methods.loadData(a)):"string"==typeof c.dataSource?(d={url:c.dataSource,data:c.params,success:gj.grid.methods.defaultSuccessHandler(a)},a.xhr&&a.xhr.abort(),a.xhr=$.ajax(d)):"object"==typeof c.dataSource&&(c.dataSource.data||(c.dataSource.data={}),$.extend(c.dataSource.data,c.params),d=$.extend(!0,{},c.dataSource),"json"===d.dataType&&"object"==typeof d.data&&(d.data=JSON.stringify(d.data)),d.success||(d.success=gj.grid.methods.defaultSuccessHandler(a)),a.xhr&&a.xhr.abort(),a.xhr=$.ajax(d)),a},clear:function(a,b){var c=a.data();return a.xhr&&a.xhr.abort(),"checkbox"===c.selectionMethod&&a.find("input#checkAllBoxes").hide(),a.children("tbody").empty(),gj.grid.methods.stopLoading(a),gj.grid.methods.appendEmptyRow(a,b?c.notFoundText:"&nbsp;"),gj.grid.events.dataBound(a,[],0),a},render:function(a,b){b&&("string"==typeof b&&JSON&&(b=JSON.parse(b)),records=gj.grid.methods.setRecordsData(a,b),gj.grid.methods.loadData(a))},destroy:function(a,b,c){var d=a.data();return d&&(gj.grid.events.destroying(a),gj.grid.methods.stopLoading(a),a.xhr&&a.xhr.abort(),a.off(),c===!1&&a.parent('div[data-role="wrapper"]').length>0&&a.unwrap(),a.removeData(),b===!1?a.remove():(a.attr("data-initialized",!1),a.removeClass().empty())),a},showColumn:function(a,b){var c,d=a.data(),e=gj.grid.methods.getColumnPosition(d.columns,b);return e>-1&&(a.find("thead>tr>th:eq("+e+")").show(),$.each(a.find("tbody>tr"),function(){$(this).find("td:eq("+e+")").show()}),d.columns[e].hidden=!1,c=a.find('tbody > tr[data-role="empty"] > td'),c&&c.length&&c.attr("colspan",gj.grid.methods.countVisibleColumns(a)),gj.grid.events.columnShow(a,d.columns[e])),a},hideColumn:function(a,b){var c,d=a.data(),e=gj.grid.methods.getColumnPosition(d.columns,b);return e>-1&&(a.find("thead>tr>th:eq("+e+")").hide(),$.each(a.find("tbody>tr"),function(){$(this).find("td:eq("+e+")").hide()}),d.columns[e].hidden=!0,c=a.find('tbody > tr[data-role="empty"] > td'),c&&c.length&&c.attr("colspan",gj.grid.methods.countVisibleColumns(a)),gj.grid.events.columnHide(a,d.columns[e])),a},addRow:function(a,b){return a.data("records").push(b),a.data("totalRecords",a.data("totalRecords")+1),a.reload(),a},updateRow:function(a,b,c){var d=gj.grid.methods.getRowById(a,b);return a.data("records")[d.data("position")-1]=c,gj.grid.methods.renderRow(a,d,c,d.index()),a},removeRow:function(a,b){var c,d,e=gj.grid.methods.getRowById(a,b);return e&&(c=e.data("position"),gj.grid.events.rowRemoving(a,e,b,a.get(c)),d=a.data("records"),d.splice(c-1,1),a.data("totalRecords",a.data("totalRecords")-1),a.reload()),a}},function(a){a.fn.grid=function(a){var b;if("object"!=typeof a&&a){if(b=new Grid(this,null),b[a])return b[a].apply(this,Array.prototype.slice.call(arguments,1));throw"Method "+a+" does not exist."}return b=new Grid(this,arguments)}}(jQuery),"undefined"==typeof gj.grid.plugins&&(gj.grid.plugins={}),gj.grid.plugins.expandCollapseRows={config:{base:{detailTemplate:void 0,style:{expandIcon:"",collapseIcon:""}},jqueryui:{style:{expandIcon:"ui-icon ui-icon-plus",collapseIcon:"ui-icon ui-icon-minus"}},bootstrap:{style:{expandIcon:"glyphicon glyphicon-plus",collapseIcon:"glyphicon glyphicon-minus"}}},"private":{detailExpand:function(a,b){var c=b.closest("tr"),d=$('<tr data-role="details"></tr>'),e=$('<td colspan="'+gj.grid.methods.countVisibleColumns(a)+'"></td>'),f=a.data();d.append(e.append(c.data("details"))),d.insertAfter(c),f.style.collapseIcon?b.find("span").attr("class",f.style.collapseIcon):b.find('div[data-role="display"]').text("-"),b.off("click").on("click",function(){gj.grid.plugins.expandCollapseRows["private"].detailCollapse(a,$(this))}),a.updateDetails(c),gj.grid.plugins.expandCollapseRows.events.detailExpand(a,d.find("td>div"),a.get(c.data("position")))},detailCollapse:function(a,b){var c=b.closest("tr"),d=c.next('tr[data-role="details"]'),e=a.data();d.remove(),e.style.expandIcon?b.find("span").attr("class",e.style.expandIcon):b.find('div[data-role="display"]').text("+"),b.off("click").on("click",function(){gj.grid.plugins.expandCollapseRows["private"].detailExpand(a,$(this))}),gj.grid.plugins.expandCollapseRows.events.detailCollapse(a,d.find("td>div"),a.get(c.data("position")))},updateDetailsColSpan:function(a){var b=a.find('tbody > tr[data-role="details"] > td');b&&b.length&&b.attr("colspan",gj.grid.methods.countVisibleColumns(a))}},"public":{collapseAll:function(){var a=this;a.find('tbody tr[data-role="row"]').each(function(){gj.grid.plugins.expandCollapseRows["private"].detailCollapse(a,$(this).find("td").first())})},expandAll:function(){var a=this;a.find('tbody tr[data-role="row"]').each(function(){gj.grid.plugins.expandCollapseRows["private"].detailExpand(a,$(this).find("td").first())})},updateDetails:function(a){var b=this,c=a.data("details"),d=c.html(),e=b.get(a.data("position"));c.html().replace(/\{(.+?)\}/g,function(a,c){var f=gj.grid.methods.getColumnInfo(b,c);d=d.replace(a,gj.grid.methods.formatText(e[c],f))}),c.html(d)}},events:{detailExpand:function(a,b,c){a.trigger("detailExpand",[b,c])},detailCollapse:function(a,b,c){a.trigger("detailCollapse",[b,c])}},configure:function(a){var b,c=a.data();$.extend(!0,a,gj.grid.plugins.expandCollapseRows["public"]),"undefined"!=typeof c.detailTemplate&&(b={title:"",field:c.primaryKey,width:"bootstrap"===c.uiLibrary?34:24,align:"center",stopPropagation:!0,events:{click:function(){gj.grid.plugins.expandCollapseRows["private"].detailExpand(a,$(this))}}},c.style.expandIcon?(b.type="icon",b.icon=c.style.expandIcon):(b.tmpl="+",b.cssClass="gj-cursor-pointer"),c.columns=[b].concat(c.columns),a.on("rowDataBound",function(a,b,d,e){b.data("details",$(c.detailTemplate))}),a.on("columnShow",function(b,c){gj.grid.plugins.expandCollapseRows["private"].updateDetailsColSpan(a)}),a.on("columnHide",function(b,c){gj.grid.plugins.expandCollapseRows["private"].updateDetailsColSpan(a)}),a.on("rowRemoving",function(b,c,d,e){gj.grid.plugins.expandCollapseRows["private"].detailCollapse(a,c.children("td").first())}),a.on("pageChanging",function(){a.collapseAll()}))}},"undefined"==typeof gj.grid.plugins&&(gj.grid.plugins={}),gj.grid.plugins.inlineEditing={config:{defaultColumnSettings:{editor:void 0}},"private":{OnCellEdit:function(a,b,c,d){var e,f;"edit"!==b.attr("data-mode")&&c.editor&&(b.find('div[data-role="display"]').hide(),e=b.find('div[data-role="edit"]'),e&&e.length?(e.show(),f=e.find("input, select").first(),f.val(d[c.field])):(e=$('<div data-role="edit" />'),b.append(e),"function"==typeof c.editor?c.editor(e,d[c.field]):"boolean"==typeof c.editor&&e.append('<input type="text" value="'+d[c.field]+'"/>'),f=e.find("input, select").first(),f.on("blur",function(d){gj.grid.plugins.inlineEditing["private"].OnCellDisplay(a,b,c)}),f.on("keypress",function(d){13===d.which&&gj.grid.plugins.inlineEditing["private"].OnCellDisplay(a,b,c)})),f.focus().select(),b.attr("data-mode","edit"))},OnCellDisplay:function(a,b,c){var d,e,f,g="";"edit"===b.attr("data-mode")&&($editorContainer=b.find('div[data-role="edit"]'),d=$editorContainer.find("input, select").first().val(),f=a.get(b.parent().data("position")),e=f[c.field],$displayContainer=b.find('div[data-role="display"]'),d!==e&&(gj.grid.methods.setCellText($displayContainer,c,d),f[c.field]=d,0===b.find("span.gj-dirty").length&&("0px"!==b.css("padding-top")&&(g+="margin-top: -"+b.css("padding-top")+";"),"0px"!==b.css("padding-left")&&(g+="margin-left: -"+b.css("padding-left")+";"),g=g?' style="'+g+'"':"",b.prepend($('<span class="gj-dirty"'+g+"></span>"))),gj.grid.plugins.inlineEditing.events.cellDataChanged(a,b,c,f,e,d),gj.grid.plugins.inlineEditing["private"].updateChanges(a,c,f,d)),$editorContainer.hide(),$displayContainer.show(),b.attr("data-mode","display"))},updateChanges:function(a,b,c,d){var e,f,g,h=a.data();h.guid||(h.guid=gj.grid.plugins.inlineEditing["private"].generateGUID()),h.primaryKey&&(e=JSON.parse(sessionStorage.getItem("gj.grid."+h.guid)),e?f=e.filter(function(a){return a[h.primaryKey]===c[h.primaryKey]}):e=[],f&&1===f.length?f[0][b.field]=d:(g={},g[h.primaryKey]=c[h.primaryKey],h.primaryKey!==b.field&&(g[b.field]=d),e.push(g)),sessionStorage.setItem("gj.grid."+h.guid,JSON.stringify(e)))},generateGUID:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}},"public":{getChanges:function(){return JSON.parse(sessionStorage.getItem("gj.grid."+this.data().guid))}},events:{cellDataChanged:function(a,b,c,d,e,f){a.trigger("cellDataChanged",[b,c,d,e,f])}},configure:function(a){$.extend(!0,a,gj.grid.plugins.inlineEditing["public"]),a.on("cellDataBound",function(b,c,d,e,f){e.editor&&c.parent().on("click",function(){gj.grid.plugins.inlineEditing["private"].OnCellEdit(a,c.parent(),e,f)})})}},"undefined"==typeof gj.grid.plugins&&(gj.grid.plugins={}),gj.grid.plugins.pagination={config:{base:{style:{pager:{cell:"",stateDisabled:"",activeButton:"gj-grid-base-active"}},pager:{limit:10,sizes:void 0,leftControls:[$('<button title="Previous" data-role="page-previous" class="gj-cursor-pointer"><span>«</span></button>'),$('<button data-role="page-button-one" class="gj-cursor-pointer">1</button>'),$('<button data-role="page-button-two" class="gj-cursor-pointer">2</button>'),$('<button data-role="page-button-three" class="gj-cursor-pointer">3</button>'),$('<button title="Next" data-role="page-next" class="gj-cursor-pointer"><span>»</span></button> &nbsp;')],rightControls:[$("<div>Displaying records&nbsp;</div>"),$('<div data-role="record-first">0</div>'),$("<div>&nbsp;-&nbsp;</div>"),$('<div data-role="record-last">0</div>'),$("<div>&nbsp;of&nbsp;</div>"),$('<div data-role="record-total">0</div>').css({"margin-right":"5px"})]}},jqueryui:{style:{pager:{cell:"ui-widget-header ui-state-default ui-grid-pager-cell",stateDisabled:"ui-state-disabled"}},pager:{leftControls:[$('<div title="First" data-role="page-first" class="ui-icon ui-icon-seek-first ui-grid-icon"></div>'),$('<div title="Previous" data-role="page-previous" class="ui-icon ui-icon-seek-prev ui-grid-icon"></div>'),$("<div>Page</div>"),$("<div></div>").append($('<input type="text" data-role="page-number" class="ui-grid-pager" value="0">')),$("<div>of&nbsp;</div>"),$('<div data-role="page-label-last">0</div>'),$('<div title="Next" data-role="page-next" class="ui-icon ui-icon-seek-next ui-grid-icon"></div>'),$('<div title="Last" data-role="page-last" class="ui-icon ui-icon-seek-end ui-grid-icon"></div>'),$('<div title="Reload" data-role="page-refresh" class="ui-icon ui-icon-refresh ui-grid-icon"></div>'),$("<div></div>").append($('<select data-role="page-size" class="ui-grid-page-sizer"></select>'))],rightControls:[$("<div>Displaying records&nbsp;</div>"),$('<div data-role="record-first">0</div>'),$("<div>&nbsp;-&nbsp;</div>"),$('<div data-role="record-last">0</div>'),$("<div>&nbsp;of&nbsp;</div>"),$('<div data-role="record-total">0</div>').css({"margin-right":"5px"})]}},bootstrap:{style:{pager:{cell:"gj-grid-bootstrap-tfoot-cell",stateDisabled:""}},pager:{leftControls:[$('<button type="button" data-role="page-first" title="First Page" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-step-backward"></span></button>'),$("<div>&nbsp;</div>"),$('<button type="button" data-role="page-previous" title="Previous Page" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-backward"></span></button>'),$("<div>&nbsp;</div>"),$("<div>Page</div>"),$("<div>&nbsp;</div>"),$("<div></div>").append($('<input data-role="page-number" class="form-control input-sm" style="width: 40px; text-align: right;" type="text" value="0">')),$("<div>&nbsp;</div>"),$("<div>of&nbsp;</div>"),$('<div data-role="page-label-last">0</div>'),$("<div>&nbsp;</div>"),$('<button type="button" data-role="page-next" title="Next Page" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-forward"></span></button>'),$("<div>&nbsp;</div>"),$('<button type="button" data-role="page-last" title="Last Page" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-step-forward"></span></button>'),$("<div>&nbsp;</div>"),$('<button type="button" data-role="page-refresh" title="Reload" class="btn btn-default btn-sm"><span class="glyphicon glyphicon-refresh"></span></button>'),$("<div>&nbsp;</div>"),$("<div></div>").append($('<select data-role="page-size" class="form-control input-sm"></select></div>'))],rightControls:[$("<div>Displaying records&nbsp;</div>"),$('<div data-role="record-first">0</div>'),$("<div>&nbsp;-&nbsp;</div>"),$('<div data-role="record-last">0</div>'),$("<div>&nbsp;of&nbsp;</div>"),$('<div data-role="record-total">0</div>').css({"margin-right":"5px"})]}}},"private":{init:function(a){var b,c,d,e,f,g,h,i,j,k;if(d=a.data(),d.pager)for(d.params[d.defaultParams.page]=1,d.params[d.defaultParams.limit]=d.pager.limit,b=$("<tr/>"),c=$("<th/>").addClass(d.style.pager.cell),b.append(c),f=$('<div data-role="display" />').css({"float":"left"}),g=$('<div data-role="display" />').css({"float":"right"}),/msie/.test(navigator.userAgent.toLowerCase())&&g.css({"padding-top":"3px"}),c.append(f).append(g),h=$("<tfoot />").append(b),a.append(h),gj.grid.plugins.pagination["private"].updatePagerColSpan(a),i=gj.grid.methods.clone(d.pager.leftControls),$.each(i,function(){f.append(this)}),j=gj.grid.methods.clone(d.pager.rightControls),$.each(j,function(){g.append(this)}),e=a.find("tfoot [data-role]"),k=0;k<e.length;k++)gj.grid.plugins.pagination["private"].initPagerControl($(e[k]),a)},initPagerControl:function(a,b){var c=b.data();switch(a.data("role")){case"page-number":a.on("keypress",function(a){13===a.keyCode&&$(this).trigger("change")});break;case"page-size":c.pager.sizes&&0<c.pager.sizes.length?(a.show(),$.each(c.pager.sizes,function(){a.append($("<option/>").attr("value",this.toString()).text(this.toString()))}),a.change(function(){var a=parseInt(this.value,10);c.params[c.defaultParams.limit]=a,gj.grid.plugins.pagination["private"].changePage(b,1),gj.grid.plugins.pagination.events.pageSizeChange(b,a)}),a.val(c.params[c.defaultParams.limit])):a.hide();break;case"page-refresh":a.on("click",function(){b.reload()})}},reloadPager:function(a,b){var c,d,e,f,g,h,i,j;if(h=a.data(),h.pager){for(c=0===b?0:h.params[h.defaultParams.page],d=parseInt(h.params[h.defaultParams.limit],10),e=Math.ceil(b/d),f=0===c?0:d*(c-1)+1,g=f+d>b?b:f+d-1,i=a.find("TFOOT [data-role]"),j=0;j<i.length;j++)gj.grid.plugins.pagination["private"].reloadPagerControl($(i[j]),a,c,e,f,g,b);gj.grid.plugins.pagination["private"].updatePagerColSpan(a)}},reloadPagerControl:function(a,b,c,d,e,f,g){var h;switch(a.data("role")){case"page-first":gj.grid.plugins.pagination["private"].assignPageHandler(b,a,1,2>c);break;case"page-previous":gj.grid.plugins.pagination["private"].assignPageHandler(b,a,c-1,2>c);break;case"page-number":a.val(c).off("change").on("change",gj.grid.plugins.pagination["private"].createChangePageHandler(b,c,d));break;case"page-label-last":a.text(d);break;case"page-next":gj.grid.plugins.pagination["private"].assignPageHandler(b,a,c+1,d===c);break;case"page-last":gj.grid.plugins.pagination["private"].assignPageHandler(b,a,d,d===c);break;case"page-button-one":h=1===c?1:c==d?c-2:c-1,gj.grid.plugins.pagination["private"].assignButtonHandler(b,a,c,h,d);break;case"page-button-two":h=1===c?2:c==d?d-1:c,gj.grid.plugins.pagination["private"].assignButtonHandler(b,a,c,h,d);break;case"page-button-three":h=1===c?c+2:c==d?c:c+1,gj.grid.plugins.pagination["private"].assignButtonHandler(b,a,c,h,d);break;case"record-first":a.text(e);break;case"record-last":a.text(f);break;case"record-total":
a.text(g)}},assignPageHandler:function(a,b,c,d){var e=a.data().style.pager;d?b.addClass(e.stateDisabled).prop("disabled",!0).off("click"):b.removeClass(e.stateDisabled).prop("disabled",!1).off("click").on("click",function(){gj.grid.plugins.pagination["private"].changePage(a,c)})},assignButtonHandler:function(a,b,c,d,e){var f=a.data().style.pager;1>d||d>e?b.hide():(b.show().off("click").text(d),d===c?b.addClass(f.activeButton):b.removeClass(f.activeButton).on("click",function(){gj.grid.plugins.pagination["private"].changePage(a,d)}))},createChangePageHandler:function(a,b,c){return function(){var d=(a.data(),parseInt(this.value,10));d&&!isNaN(d)&&c>=d?gj.grid.plugins.pagination["private"].changePage(a,d):(this.value=b,alert("Please enter a valid number."))}},changePage:function(a,b){var c=a.data();a.find('TFOOT [data-role="page-number"]').val(b),c.params[c.defaultParams.page]=b,gj.grid.plugins.pagination.events.pageChanging(a,b),a.reload()},updatePagerColSpan:function(a){var b=a.find("tfoot > tr > th");b&&b.length&&b.attr("colspan",gj.grid.methods.countVisibleColumns(a))},getRecordsForRendering:function(a){var b=a.data(),c=parseInt(b.params[b.defaultParams.limit],10),d=b.params[b.defaultParams.page],e=(d-1)*c;return b.records.slice(e,e+c)}},"public":{},events:{pageSizeChange:function(a,b){a.trigger("pageSizeChange",[b])},pageChanging:function(a,b){a.trigger("pageChanging",[b])}},configure:function(a,b){var c=a.data();b.pager&&($.isArray(c.dataSource)&&(gj.grid.methods.getRecordsForRendering=gj.grid.plugins.pagination["private"].getRecordsForRendering),a.on("initialized",function(){gj.grid.plugins.pagination["private"].init(a)}),a.on("dataBound",function(b,c,d){gj.grid.plugins.pagination["private"].reloadPager(a,d)}),a.on("columnShow",function(){gj.grid.plugins.pagination["private"].updatePagerColSpan(a)}),a.on("columnHide",function(){gj.grid.plugins.pagination["private"].updatePagerColSpan(a)}))}},"undefined"==typeof gj.grid.plugins&&(gj.grid.plugins={}),gj.grid.plugins.responsiveDesign={config:{base:{resizeCheckInterval:500,responsive:!1,showHiddenColumnsAsDetails:!1,defaultColumn:{priority:void 0,minWidth:150},style:{rowDetailItem:""}},bootstrap:{style:{rowDetailItem:"col-lg-4"}},jqueryui:{style:{rowDetailItem:""}}},"private":{orderColumns:function(a){var b=[];if(a.columns&&a.columns.length){for(i=0;i<a.columns.length;i++)b.push({position:i,field:a.columns[i].field,minWidth:a.columns[i].width||a.columns[i].minWidth||a.defaultColumn.minWidth,priority:a.columns[i].priority||0});b.sort(function(a,b){var c=0;return a.priority<b.priority?c=-1:a.priority>b.priority&&(c=1),c})}return b},updateDetails:function(a){var b,c,d,e,f,g,h,i,j;for(b=a.find('tbody > tr[data-role="row"]'),c=a.data(),d=0;d<b.length;d++){for(f=$(b[d]),g=f.data("details"),e=0;e<c.columns.length;e++)i=c.columns[e],h=g&&g.find('div[data-id="'+i.field+'"]'),c.columns[e].hidden?(j="<b>"+(i.title||i.field)+"</b>: {"+i.field+"}",h&&h.length?h.empty().html(j):(h=$('<div data-id="'+i.field+'"/>').html(j),h.addClass(c.style.rowDetailItem),g&&g.length||(g=$('<div class="row"/>')),g.append(h))):h&&h.length&&h.remove();a.updateDetails(f)}}},"public":{oldWidth:void 0,resizeCheckIntervalId:void 0,makeResponsive:function(){var a,b,c=0,d=this.data(),e=gj.grid.plugins.responsiveDesign["private"].orderColumns(d);for(a=0;a<e.length;a++)b=this.find("thead>tr>th:eq("+e[a].position+")"),b.is(":visible")&&e[a].minWidth<b.width()&&(c+=b.width()-e[a].minWidth);if(c)for(a=0;a<e.length;a++)b=this.find("thead>tr>th:eq("+e[a].position+")"),!b.is(":visible")&&e[a].minWidth<=c&&(this.showColumn(e[a].field),c-=b.width());for(a=e.length-1;a>=0;a--)b=this.find("thead>tr>th:eq("+e[a].position+")"),b.is(":visible")&&e[a].priority&&e[a].minWidth>b.outerWidth()&&this.hideColumn(e[a].field)}},events:{resize:function(a,b,c){a.trigger("resize",[b,c])}},configure:function(a){$.extend(!0,a,gj.grid.plugins.responsiveDesign["public"]);var b=a.data();b.responsive&&(a.on("initialized",function(){a.makeResponsive(),a.oldWidth=a.width(),a.resizeCheckIntervalId=setInterval(function(){var b=a.width();b!==a.oldWidth&&gj.grid.plugins.responsiveDesign.events.resize(a,b,a.oldWidth),a.oldWidth=b},b.resizeCheckInterval)}),a.on("destroy",function(){a.resizeCheckIntervalId&&clearInterval(a.resizeCheckIntervalId)}),a.on("resize",function(){a.makeResponsive()})),b.showHiddenColumnsAsDetails&&gj.grid.plugins.expandCollapseRows&&(a.on("dataBound",function(){gj.grid.plugins.responsiveDesign["private"].updateDetails(a)}),a.on("columnHide",function(){gj.grid.plugins.responsiveDesign["private"].updateDetails(a)}),a.on("columnShow",function(){gj.grid.plugins.responsiveDesign["private"].updateDetails(a)}),a.on("rowDataBound",function(){gj.grid.plugins.responsiveDesign["private"].updateDetails(a)}))}},"undefined"==typeof gj.grid.plugins&&(gj.grid.plugins={}),gj.grid.plugins.toolbar={config:{base:{toolbarTemplate:void 0,title:void 0,style:{toolbar:"gj-grid-base-toolbar"}},jqueryui:{style:{toolbar:"ui-widget-header ui-state-default gj-grid-ui-toolbar"}},bootstrap:{style:{toolbar:"gj-grid-bootstrap-toolbar"}}},"private":{init:function(a){var b,c,d;b=a.data(),c=a.prev('div[data-role="toolbar"]'),("undefined"!=typeof b.toolbarTemplate||"undefined"!=typeof b.title||c.length>0)&&(0===c.length&&(c=$('<div data-role="toolbar"></div>'),a.before(c)),c.addClass(b.style.toolbar),0===c.children().length&&b.toolbarTemplate&&c.append(b.toolbarTemplate),d=c.find('[data-role="title"]'),0===d.length&&(d=$('<div data-role="title"/>'),c.prepend(d)),b.title&&d.text(b.title),b.minWidth&&c.css("min-width",b.minWidth))}},"public":{title:function(a){var b=this.parent().find('div[data-role="toolbar"] [data-role="title"]');return"undefined"!=typeof a?(b.text(a),this):b.text()}},configure:function(a){$.extend(!0,a,gj.grid.plugins.toolbar["public"]),a.on("initialized",function(){gj.grid.plugins.toolbar["private"].init(a)})}},"undefined"==typeof gj.grid.plugins&&(gj.grid.plugins={}),gj.grid.plugins.resizableColumns={config:{base:{resizableColumns:!1}},"private":{init:function(a){var b,c,d,e,f,g=a.data(),h=a.data().resizableColumns;if(h&&(b=a.find("thead tr th"),b.length))for(d=0;d<b.length-1;d++)c=$(b[d]),e=$('<div class="gj-grid-base-column-resizer-wrapper" />'),f=$('<span class="gj-grid-base-column-resizer" />'),$.fn.draggable&&f.draggable({start:function(){a.addClass("gj-grid-unselectable"),a.addClass("gj-grid-resize-cursor")},stop:function(){a.removeClass("gj-grid-unselectable"),a.removeClass("gj-grid-resize-cursor")},drag:gj.grid.plugins.resizableColumns["private"].createResizeHandle(a,c,g.columns[d])}),c.append(e.append(f))},createResizeHandle:function(a,b,c){return function(a,d){var e=b.width()+d.left+parseInt(b.css("paddingLeft").replace("px",""),10);c.width=e,b.width(e)}}},"public":{},configure:function(a){$.extend(!0,a,gj.grid.plugins.resizableColumns["public"]),a.on("initialized",function(){gj.grid.plugins.resizableColumns["private"].init(a)})}};